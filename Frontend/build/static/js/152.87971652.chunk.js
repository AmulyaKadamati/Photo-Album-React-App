"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[152],{55152:function(e,r,n){n.r(r),n.d(r,{default:function(){return v}});var t=n(11087),a=n(61889),i=n(36314),s=n(20890),o=n(59121),l=n(1413),c=n(15861),u=n(29439),d=n(72791),m=n(89164),h=n(69075),f=n(94294),p=n(35352),x=n(57689),Z=n(80184),g=function(){var e=(0,d.useState)(""),r=(0,u.Z)(e,2),n=r[0],t=r[1],a=(0,d.useState)(""),i=(0,u.Z)(a,2),s=i[0],g=i[1],w=(0,d.useState)({email:"",password:""}),v=(0,u.Z)(w,2),j=v[0],b=v[1],k=(0,d.useState)(""),y=(0,u.Z)(k,2),_=y[0],C=y[1],P=(0,x.s0)();(0,d.useEffect)((function(){localStorage.getItem("token")&&(P("/"),window.location.reload())}),[]);var S=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b({email:"",password:""}),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){e.next=4;break}return b((function(e){return(0,l.Z)((0,l.Z)({},e),{},{email:"Invalid email format"})})),e.abrupt("return");case 4:if(s.length>=6&&s.length<=15){e.next=7;break}return b((function(e){return(0,l.Z)((0,l.Z)({},e),{},{password:"Password must be atleast 6 characters"})})),e.abrupt("return");case 7:(0,p.P5)("/auth/users/add",{email:n,password:s}).then((function(){C(""),P("/login")})).catch((function(e){console.error("Login error: ",e),C("An error occured during login")}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsxs)(m.Z,{component:"main",maxWidth:"xs",children:[(0,Z.jsx)(h.Z,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Email",value:n,onChange:function(e){return t(e.target.value)},error:!!j.email,helperText:j.email}),(0,Z.jsx)(h.Z,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Password",type:"password",value:s,onChange:function(e){return g(e.target.value)},error:!!j.password,helperText:j.password}),(0,Z.jsx)(f.Z,{variant:"contained",color:"primary",fullWidth:!0,onClick:S,children:"Register"}),_&&(0,Z.jsxs)("p",{style:{color:"red"},children:[" ",_]})]})},w=n(36731),v=function(){return(0,Z.jsx)(w.Z,{children:(0,Z.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,Z.jsx)(a.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[(0,Z.jsx)(s.Z,{variant:"h3",children:"Sign up"}),(0,Z.jsx)(s.Z,{component:t.rU,to:"/login",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Already have an account?"})]})}),(0,Z.jsx)(a.ZP,{item:!0,xs:12,children:(0,Z.jsx)(g,{})})]})})}}}]);
//# sourceMappingURL=152.87971652.chunk.js.map