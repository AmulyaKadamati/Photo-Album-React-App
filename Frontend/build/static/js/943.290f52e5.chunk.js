"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[943],{72943:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r=t(11087),a=t(61889),o=t(36314),i=t(20890),s=t(59121),l=t(1413),c=t(15861),u=t(29439),d=t(72791),m=t(89164),h=t(69075),f=t(94294),p=t(35352),x=t(57689),Z=t(80184),g=function(){var e=(0,d.useState)(""),n=(0,u.Z)(e,2),t=n[0],r=n[1],a=(0,d.useState)(""),o=(0,u.Z)(a,2),i=o[0],g=o[1],w=(0,d.useState)({email:"",password:""}),v=(0,u.Z)(w,2),j=v[0],b=v[1],k=(0,d.useState)(""),_=(0,u.Z)(k,2),y=_[0],C=_[1],P=(0,x.s0)();(0,d.useEffect)((function(){localStorage.getItem("token")&&(P("/"),window.location.reload())}),[]);var S=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b({email:"",password:""}),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){e.next=4;break}return b((function(e){return(0,l.Z)((0,l.Z)({},e),{},{email:"Invalid email format"})})),e.abrupt("return");case 4:if(i.length>=6&&i.length<=15){e.next=7;break}return b((function(e){return(0,l.Z)((0,l.Z)({},e),{},{password:"Password must be atleast 6 characters"})})),e.abrupt("return");case 7:(0,p.P5)("/auth/token",{email:t,password:i}).then((function(e){var n=e.data.token;C(""),localStorage.setItem("token",n),P("/"),window.location.reload()})).catch((function(e){console.error("Login error: ",e),C("An error occured during login")}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsxs)(m.Z,{component:"main",maxWidth:"xs",children:[(0,Z.jsx)(h.Z,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Email",value:t,onChange:function(e){return r(e.target.value)},error:!!j.email,helperText:j.email}),(0,Z.jsx)(h.Z,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Password",type:"password",value:i,onChange:function(e){return g(e.target.value)},error:!!j.password,helperText:j.password}),(0,Z.jsx)(f.Z,{variant:"contained",color:"primary",fullWidth:!0,onClick:S,children:"Login"}),y&&(0,Z.jsxs)("p",{style:{color:"red"},children:[" ",y]})]})},w=t(36731),v=function(){return(0,Z.jsx)(w.Z,{children:(0,Z.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,Z.jsx)(a.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[(0,Z.jsx)(i.Z,{variant:"h3",children:"Login"}),(0,Z.jsx)(i.Z,{component:r.rU,to:"/register",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Don't have an account?"})]})}),(0,Z.jsx)(a.ZP,{item:!0,xs:12,children:(0,Z.jsx)(g,{})})]})})}}}]);
//# sourceMappingURL=943.290f52e5.chunk.js.map