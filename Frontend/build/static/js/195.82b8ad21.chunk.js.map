{"version":3,"file":"static/js/195.82b8ad21.chunk.js","mappings":"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","sources":["client/Client.js","pages/albums/editAlbum.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE = process.env.REACT_APP_API_URL || \"http://localhost:8080\";\r\nconst API_VERSION = \"/api/v1\";\r\n\r\n// Generic GET\r\nconst fetchGetData = (uri) => {\r\n    const url = `${API_BASE}${API_VERSION}${uri}`;\r\n    return axios.get(url)\r\n        .catch((error) => {\r\n            console.error('Error fetching data from url:', url);\r\n            throw error;\r\n        });\r\n};\r\n\r\n// Generic POST without auth\r\nconst fetchPostData = (uri, payload) => {\r\n    const url = `${API_BASE}${API_VERSION}${uri}`;\r\n    return axios.post(url, payload)\r\n        .catch((error) => {\r\n            console.error('Error fetching data from url:', url);\r\n            throw error;\r\n        });\r\n};\r\n\r\n// POST with auth (token)\r\nconst fetchPostDataWithAuth = (uri, payload) => {\r\n    const token = localStorage.getItem('token');\r\n    const url = `${API_BASE}${API_VERSION}${uri}`;\r\n    return axios.post(url, payload, {\r\n        headers: {\r\n            \"accept\": \"application/json\",\r\n            \"content-type\": \"application/json\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    }).catch((error) => {\r\n        console.error('Error fetching data from url:', url, error.message);\r\n        throw error;\r\n    });\r\n};\r\n\r\n// PUT with auth\r\nconst fetchPutDataWithAuth = (uri, payload) => {\r\n    const token = localStorage.getItem('token');\r\n    const url = `${API_BASE}${API_VERSION}${uri}`;\r\n    return axios.put(url, payload, {\r\n        headers: {\r\n            \"accept\": \"application/json\",\r\n            \"content-type\": \"application/json\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    }).catch((error) => {\r\n        console.error('Error fetching data from url:', url, error.message);\r\n        throw error;\r\n    });\r\n};\r\n\r\n// File upload with auth\r\nconst fetchPostFileUploadWithAuth = async (uri, formData) => {\r\n    const token = localStorage.getItem('token');\r\n    const url = `${API_BASE}${API_VERSION}${uri}`;\r\n    try {\r\n        const response = await axios.post(url, formData, {\r\n            headers: {\r\n                \"accept\": \"*/*\",\r\n                \"Authorization\": `Bearer ${token}`,\r\n                \"Content-Type\": \"multipart/form-data\"\r\n            }\r\n        });\r\n        return response;\r\n    } catch (error) {\r\n        console.error('Error fetching data from url:', url, error.message);\r\n        throw error;\r\n    }\r\n};\r\n\r\n// GET with auth\r\nconst fetchGetDataWithAuth = async (uri) => {\r\n    const token = localStorage.getItem('token');\r\n    const url = `${API_BASE}${API_VERSION}${uri}`;\r\n    try {\r\n        const response = await axios.get(url, {\r\n            headers: { \"Authorization\": `Bearer ${token}` }\r\n        });\r\n        return response;\r\n    } catch (error) {\r\n        console.error('Error fetching data from url:', url, error.message);\r\n        throw error;\r\n    }\r\n};\r\n\r\n// DELETE with auth\r\nconst fetchDeleteDataWithAuth = async (uri) => {\r\n    const token = localStorage.getItem('token');\r\n    const url = `${API_BASE}${API_VERSION}${uri}`;\r\n    try {\r\n        const response = await axios.delete(url, {\r\n            headers: { \"Authorization\": `Bearer ${token}` }\r\n        });\r\n        return response;\r\n    } catch (error) {\r\n        console.error('Error fetching data from url:', url, error.message);\r\n        throw error;\r\n    }\r\n};\r\n\r\n// GET ArrayBuffer (binary) with auth\r\nconst fetchGetDataWithAuthArrayBuffer = (uri) => {\r\n    const token = localStorage.getItem('token');\r\n    const url = `${API_BASE}${API_VERSION}${uri}`;\r\n    try {\r\n        return axios.get(url, {\r\n            headers: { \"Authorization\": `Bearer ${token}` },\r\n            responseType: 'arraybuffer'\r\n        });\r\n    } catch (error) {\r\n        console.error('Error fetching data from url:', url, error.message);\r\n        throw error;\r\n    }\r\n};\r\n\r\n// GET Blob data with auth\r\nconst fetchGetBlobDataWithAuth = async (uri) => {\r\n    const token = localStorage.getItem('token');\r\n    const url = `${API_BASE}${API_VERSION}${uri}`;\r\n    try {\r\n        const response = await axios.get(url, {\r\n            headers: { \"Authorization\": `Bearer ${token}` },\r\n            responseType: \"blob\"\r\n        });\r\n        return response;\r\n    } catch (error) {\r\n        console.error('Error fetching data from url:', url, error.message);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport default fetchGetData;\r\nexport {\r\n    fetchPostData,\r\n    fetchPostDataWithAuth,\r\n    fetchGetDataWithAuth,\r\n    fetchDeleteDataWithAuth,\r\n    fetchPostFileUploadWithAuth,\r\n    fetchPutDataWithAuth,\r\n    fetchGetDataWithAuthArrayBuffer,\r\n    fetchGetBlobDataWithAuth\r\n};\r\n","import { Button, TextField } from '@mui/material';\r\nimport { fetchGetDataWithAuth, fetchPutDataWithAuth } from 'client/Client';\r\nimport { useEffect, useState } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\n// ==============================|| EDIT ALBUM FORM ||============================== //\r\n\r\nconst EditAlbumForm = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const queryParams = new URLSearchParams(location.search);\r\n  const album_id = queryParams.get('id');\r\n\r\n  useEffect(() => {\r\n    const isLoggedIn = localStorage.getItem('token');\r\n    if (!isLoggedIn) {\r\n      navigate('/login');\r\n      window.location.reload();\r\n    }\r\n    fetchGetDataWithAuth('/albums/' + album_id).then((res) => {\r\n      if (res.data) {\r\n        setFormData((prevData) => ({ ...prevData, name: res.data.name, description: res.data.description }));\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: ''\r\n  });\r\n\r\n  const [errors, setErrors] = useState({\r\n    name: '',\r\n    description: ''\r\n  });\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    let isValid = true;\r\n    const newErrors = { name: '', description: '' };\r\n\r\n    if (!formData.name.trim()) {\r\n      newErrors.name = 'Name is required';\r\n      isValid = false;\r\n    }\r\n    if (!formData.description.trim()) {\r\n      newErrors.name = 'Description is required';\r\n      isValid = false;\r\n    }\r\n\r\n    setErrors(newErrors);\r\n\r\n    if (isValid) {\r\n      const payload = {\r\n        name: formData.name,\r\n        description: formData.description\r\n      };\r\n      fetchPutDataWithAuth('/albums/' + album_id + '/update-album', payload)\r\n        .then((response) => {\r\n          console.log(response);\r\n        })\r\n        .catch((error) => {\r\n          console.log('login error: ', error);\r\n        });\r\n      console.log('Form submitted: ');\r\n      navigate('/');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <TextField\r\n        label=\"Name\"\r\n        name=\"name\"\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        fullWidth\r\n        value={formData.name}\r\n        onChange={handleInputChange}\r\n        error={!!errors.name}\r\n        helperText={errors.name}\r\n      />\r\n\r\n      <TextField\r\n        label=\"Description\"\r\n        name=\"description\"\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        fullWidth\r\n        value={formData.description}\r\n        onChange={handleInputChange}\r\n        error={!!errors.description}\r\n        helperText={errors.description}\r\n        multiline\r\n        rows={4}\r\n      />\r\n\r\n      <Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n        Edit Album\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditAlbumForm;\r\n"],"names":["API_BASE","process","REACT_APP_API_URL","API_VERSION","fetchPostData","uri","payload","url","concat","axios","catch","error","console","fetchPostDataWithAuth","token","localStorage","getItem","headers","message","fetchPutDataWithAuth","fetchPostFileUploadWithAuth","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","response","wrap","_context","prev","next","sent","abrupt","t0","stop","_x","_x2","apply","arguments","fetchGetDataWithAuth","_ref2","_callee2","_context2","_x3","fetchDeleteDataWithAuth","_ref3","_callee3","_context3","_x4","fetchGetDataWithAuthArrayBuffer","responseType","fetchGetBlobDataWithAuth","_ref4","_callee4","_context4","_x5","navigate","useNavigate","location","useLocation","album_id","URLSearchParams","search","get","useEffect","window","reload","then","res","data","setFormData","prevData","_objectSpread","name","description","_useState","useState","_useState2","_slicedToArray","_useState3","_useState4","errors","setErrors","handleInputChange","e","_e$target","target","value","_defineProperty","handleSubmit","isValid","newErrors","preventDefault","trim","log","_jsxs","onSubmit","children","_jsx","TextField","label","variant","margin","fullWidth","onChange","helperText","multiline","rows","Button","type","color"],"sourceRoot":""}