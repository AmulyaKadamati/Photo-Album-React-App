"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[195],{35352:function(t,e,r){r.d(e,{P5:function(){return u},Pq:function(){return f},T1:function(){return d},eE:function(){return p},kC:function(){return l},p:function(){return h},q7:function(){return s},tX:function(){return m}});var n=r(59121),a=r(15861),o=r(3902),c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8080",i="/api/v1",u=function(t,e){var r="".concat(c).concat(i).concat(t);return o.Z.post(r,e).catch((function(t){throw console.error("Error fetching data from url:",r),t}))},s=function(t,e){var r=localStorage.getItem("token"),n="".concat(c).concat(i).concat(t);return o.Z.post(n,e,{headers:{accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(r)}}).catch((function(t){throw console.error("Error fetching data from url:",n,t.message),t}))},l=function(t,e){var r=localStorage.getItem("token"),n="".concat(c).concat(i).concat(t);return o.Z.put(n,e,{headers:{accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(r)}}).catch((function(t){throw console.error("Error fetching data from url:",n,t.message),t}))},p=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e,r){var a,u,s;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("token"),u="".concat(c).concat(i).concat(e),t.prev=2,t.next=5,o.Z.post(u,r,{headers:{accept:"*/*",Authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"}});case 5:return s=t.sent,t.abrupt("return",s);case 9:throw t.prev=9,t.t0=t.catch(2),console.error("Error fetching data from url:",u,t.t0.message),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,r){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("token"),a="".concat(c).concat(i).concat(e),t.prev=2,t.next=5,o.Z.get(a,{headers:{Authorization:"Bearer ".concat(r)}});case 5:return u=t.sent,t.abrupt("return",u);case 9:throw t.prev=9,t.t0=t.catch(2),console.error("Error fetching data from url:",a,t.t0.message),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("token"),a="".concat(c).concat(i).concat(e),t.prev=2,t.next=5,o.Z.delete(a,{headers:{Authorization:"Bearer ".concat(r)}});case 5:return u=t.sent,t.abrupt("return",u);case 9:throw t.prev=9,t.t0=t.catch(2),console.error("Error fetching data from url:",a,t.t0.message),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),h=function(t){var e=localStorage.getItem("token"),r="".concat(c).concat(i).concat(t);try{return o.Z.get(r,{headers:{Authorization:"Bearer ".concat(e)},responseType:"arraybuffer"})}catch(n){throw console.error("Error fetching data from url:",r,n.message),n}},d=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("token"),a="".concat(c).concat(i).concat(e),t.prev=2,t.next=5,o.Z.get(a,{headers:{Authorization:"Bearer ".concat(r)},responseType:"blob"});case 5:return u=t.sent,t.abrupt("return",u);case 9:throw t.prev=9,t.t0=t.catch(2),console.error("Error fetching data from url:",a,t.t0.message),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},26195:function(t,e,r){r.r(e);var n=r(59121),a=r(15861),o=r(4942),c=r(29439),i=r(1413),u=r(69075),s=r(94294),l=r(35352),p=r(72791),f=r(57689),m=r(80184);e.default=function(){var t=(0,f.s0)(),e=(0,f.TH)(),r=new URLSearchParams(e.search).get("id");(0,p.useEffect)((function(){localStorage.getItem("token")||(t("/login"),window.location.reload()),(0,l.Pq)("/albums/"+r).then((function(t){t.data&&v((function(e){return(0,i.Z)((0,i.Z)({},e),{},{name:t.data.name,description:t.data.description})}))}))}),[]);var h=(0,p.useState)({name:"",description:""}),d=(0,c.Z)(h,2),g=d[0],v=d[1],Z=(0,p.useState)({name:"",description:""}),w=(0,c.Z)(Z,2),S=w[0],_=w[1],k=function(t){var e=t.target,r=e.name,n=e.value;v((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,o.Z)({},r,n))}))},E=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a){var o,c,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),o=!0,c={name:"",description:""},g.name.trim()||(c.name="Name is required",o=!1),g.description.trim()||(c.name="Description is required",o=!1),_(c),o&&(i={name:g.name,description:g.description},(0,l.kC)("/albums/"+r+"/update-album",i).then((function(t){console.log(t)})).catch((function(t){console.log("login error: ",t)})),console.log("Form submitted: "),t("/"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)("form",{onSubmit:E,children:[(0,m.jsx)(u.Z,{label:"Name",name:"name",variant:"outlined",margin:"normal",fullWidth:!0,value:g.name,onChange:k,error:!!S.name,helperText:S.name}),(0,m.jsx)(u.Z,{label:"Description",name:"description",variant:"outlined",margin:"normal",fullWidth:!0,value:g.description,onChange:k,error:!!S.description,helperText:S.description,multiline:!0,rows:4}),(0,m.jsx)(s.Z,{type:"submit",variant:"contained",color:"primary",children:"Edit Album"})]})}}}]);
//# sourceMappingURL=195.82b8ad21.chunk.js.map