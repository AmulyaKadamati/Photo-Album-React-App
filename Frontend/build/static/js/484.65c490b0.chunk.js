"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[484],{35352:function(t,e,r){r.d(e,{P5:function(){return u},Pq:function(){return f},T1:function(){return d},eE:function(){return p},kC:function(){return l},p:function(){return m},q7:function(){return s},tX:function(){return h}});var n=r(59121),o=r(15861),a=r(3902),c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8080",i="/api/v1",u=function(t,e){var r="".concat(c).concat(i).concat(t);return a.Z.post(r,e).catch((function(t){throw console.error("Error fetching data from url:",r),t}))},s=function(t,e){var r=localStorage.getItem("token"),n="".concat(c).concat(i).concat(t);return a.Z.post(n,e,{headers:{accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(r)}}).catch((function(t){throw console.error("Error fetching data from url:",n,t.message),t}))},l=function(t,e){var r=localStorage.getItem("token"),n="".concat(c).concat(i).concat(t);return a.Z.put(n,e,{headers:{accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(r)}}).catch((function(t){throw console.error("Error fetching data from url:",n,t.message),t}))},p=function(){var t=(0,o.Z)((0,n.Z)().mark((function t(e,r){var o,u,s;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=localStorage.getItem("token"),u="".concat(c).concat(i).concat(e),t.prev=2,t.next=5,a.Z.post(u,r,{headers:{accept:"*/*",Authorization:"Bearer ".concat(o),"Content-Type":"multipart/form-data"}});case 5:return s=t.sent,t.abrupt("return",s);case 9:throw t.prev=9,t.t0=t.catch(2),console.error("Error fetching data from url:",u,t.t0.message),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,r){return t.apply(this,arguments)}}(),f=function(){var t=(0,o.Z)((0,n.Z)().mark((function t(e){var r,o,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("token"),o="".concat(c).concat(i).concat(e),t.prev=2,t.next=5,a.Z.get(o,{headers:{Authorization:"Bearer ".concat(r)}});case 5:return u=t.sent,t.abrupt("return",u);case 9:throw t.prev=9,t.t0=t.catch(2),console.error("Error fetching data from url:",o,t.t0.message),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,o.Z)((0,n.Z)().mark((function t(e){var r,o,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("token"),o="".concat(c).concat(i).concat(e),t.prev=2,t.next=5,a.Z.delete(o,{headers:{Authorization:"Bearer ".concat(r)}});case 5:return u=t.sent,t.abrupt("return",u);case 9:throw t.prev=9,t.t0=t.catch(2),console.error("Error fetching data from url:",o,t.t0.message),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),m=function(t){var e=localStorage.getItem("token"),r="".concat(c).concat(i).concat(t);try{return a.Z.get(r,{headers:{Authorization:"Bearer ".concat(e)},responseType:"arraybuffer"})}catch(n){throw console.error("Error fetching data from url:",r,n.message),n}},d=function(){var t=(0,o.Z)((0,n.Z)().mark((function t(e){var r,o,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("token"),o="".concat(c).concat(i).concat(e),t.prev=2,t.next=5,a.Z.get(o,{headers:{Authorization:"Bearer ".concat(r)},responseType:"blob"});case 5:return u=t.sent,t.abrupt("return",u);case 9:throw t.prev=9,t.t0=t.catch(2),console.error("Error fetching data from url:",o,t.t0.message),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},74484:function(t,e,r){r.r(e);var n=r(59121),o=r(15861),a=r(4942),c=r(29439),i=r(1413),u=r(69075),s=r(94294),l=r(35352),p=r(72791),f=r(57689),h=r(80184);e.default=function(){var t=(0,f.s0)(),e=(0,f.TH)(),r=new URLSearchParams(e.search),m=r.get("album_id"),d=r.get("photo_id"),g=r.get("photo_name"),v=r.get("photo_description");(0,p.useEffect)((function(){localStorage.getItem("token")||(t("/login"),window.location.reload()),"null"==v&&(v=""),S((function(t){return(0,i.Z)((0,i.Z)({},t),{},{name:g,description:v})}))}),[t]);var Z=(0,p.useState)({name:"",description:""}),w=(0,c.Z)(Z,2),_=w[0],S=w[1],k=(0,p.useState)({name:"",description:""}),E=(0,c.Z)(k,2),b=E[0],x=E[1],T=function(t){var e=t.target,r=e.name,n=e.value;S((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,a.Z)({},r,n))}))},y=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r){var o,a,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),o=!0,a={name:"",description:""},_.name.trim()||(a.name="Name is required",o=!1),_.description.trim()||(a.name="Description is required",o=!1),x(a),o&&(c={name:_.name,description:_.description},(0,l.kC)("/albums/"+m+"/photos/"+d+"/update-photo",c).then((function(t){console.log(t)})).catch((function(t){console.log("login error: ",t)})),console.log("Form submitted: "),t("/"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsxs)("form",{onSubmit:y,children:[(0,h.jsx)(u.Z,{label:"Name",name:"name",variant:"outlined",margin:"normal",fullWidth:!0,value:_.name,onChange:T,error:!!b.name,helperText:b.name}),(0,h.jsx)(u.Z,{label:"Description",name:"description",variant:"outlined",margin:"normal",fullWidth:!0,value:_.description,onChange:T,error:!!b.description,helperText:b.description,multiline:!0,rows:4}),(0,h.jsx)(s.Z,{type:"submit",variant:"contained",color:"primary",children:"Edit Photo"})]})}}}]);
//# sourceMappingURL=484.65c490b0.chunk.js.map