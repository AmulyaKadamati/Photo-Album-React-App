"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[400],{35352:function(t,r,e){e.d(r,{P5:function(){return u},Pq:function(){return f},T1:function(){return d},eE:function(){return p},kC:function(){return l},p:function(){return h},q7:function(){return s},tX:function(){return m}});var n=e(59121),o=e(15861),a=e(3902),c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8080",i="/api/v1",u=function(t,r){var e="".concat(c).concat(i).concat(t);return a.Z.post(e,r).catch((function(t){throw console.error("Error fetching data from url:",e),t}))},s=function(t,r){var e=localStorage.getItem("token"),n="".concat(c).concat(i).concat(t);return a.Z.post(n,r,{headers:{accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(e)}}).catch((function(t){throw console.error("Error fetching data from url:",n,t.message),t}))},l=function(t,r){var e=localStorage.getItem("token"),n="".concat(c).concat(i).concat(t);return a.Z.put(n,r,{headers:{accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(e)}}).catch((function(t){throw console.error("Error fetching data from url:",n,t.message),t}))},p=function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r,e){var o,u,s;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=localStorage.getItem("token"),u="".concat(c).concat(i).concat(r),t.prev=2,t.next=5,a.Z.post(u,e,{headers:{accept:"*/*",Authorization:"Bearer ".concat(o),"Content-Type":"multipart/form-data"}});case 5:return s=t.sent,t.abrupt("return",s);case 9:throw t.prev=9,t.t0=t.catch(2),console.error("Error fetching data from url:",u,t.t0.message),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(r,e){return t.apply(this,arguments)}}(),f=function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r){var e,o,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("token"),o="".concat(c).concat(i).concat(r),t.prev=2,t.next=5,a.Z.get(o,{headers:{Authorization:"Bearer ".concat(e)}});case 5:return u=t.sent,t.abrupt("return",u);case 9:throw t.prev=9,t.t0=t.catch(2),console.error("Error fetching data from url:",o,t.t0.message),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(r){return t.apply(this,arguments)}}(),m=function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r){var e,o,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("token"),o="".concat(c).concat(i).concat(r),t.prev=2,t.next=5,a.Z.delete(o,{headers:{Authorization:"Bearer ".concat(e)}});case 5:return u=t.sent,t.abrupt("return",u);case 9:throw t.prev=9,t.t0=t.catch(2),console.error("Error fetching data from url:",o,t.t0.message),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(r){return t.apply(this,arguments)}}(),h=function(t){var r=localStorage.getItem("token"),e="".concat(c).concat(i).concat(t);try{return a.Z.get(e,{headers:{Authorization:"Bearer ".concat(r)},responseType:"arraybuffer"})}catch(n){throw console.error("Error fetching data from url:",e,n.message),n}},d=function(){var t=(0,o.Z)((0,n.Z)().mark((function t(r){var e,o,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("token"),o="".concat(c).concat(i).concat(r),t.prev=2,t.next=5,a.Z.get(o,{headers:{Authorization:"Bearer ".concat(e)},responseType:"blob"});case 5:return u=t.sent,t.abrupt("return",u);case 9:throw t.prev=9,t.t0=t.catch(2),console.error("Error fetching data from url:",o,t.t0.message),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(r){return t.apply(this,arguments)}}()},74400:function(t,r,e){e.r(r);var n=e(59121),o=e(15861),a=e(4942),c=e(1413),i=e(29439),u=e(69075),s=e(94294),l=e(35352),p=e(72791),f=e(57689),m=e(80184);r.default=function(){var t=(0,f.s0)();(0,p.useEffect)((function(){localStorage.getItem("token")||(t("/login"),window.location.reload())}),[]);var r=(0,p.useState)({name:"",description:""}),e=(0,i.Z)(r,2),h=e[0],d=e[1],g=(0,p.useState)({name:"",description:""}),v=(0,i.Z)(g,2),Z=v[0],w=v[1],S=function(t){var r=t.target,e=r.name,n=r.value;d((function(t){return(0,c.Z)((0,c.Z)({},t),{},(0,a.Z)({},e,n))}))},_=function(){var r=(0,o.Z)((0,n.Z)().mark((function r(e){var o,a,c;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.preventDefault(),o=!0,a={name:"",description:""},h.name.trim()||(a.name="Name is required",o=!1),h.description.trim()||(a.name="Description is Required",o=!1),w(a),o&&(c={name:h.name,description:h.description},(0,l.q7)("/albums/add",c).then((function(t){console.log(t)})).catch((function(t){console.log("login error: ",t)})),console.log("Form submitted: "),t("/"));case 7:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}();return(0,m.jsxs)("form",{onSubmit:_,children:[(0,m.jsx)(u.Z,{label:"Name",name:"name",variant:"outlined",margin:"normal",fullWidth:!0,value:h.name,onChange:S,error:!!Z.name,helperText:Z.name}),(0,m.jsx)(u.Z,{label:"Description",name:"description",variant:"outlined",margin:"normal",fullWidth:!0,value:h.description,onChange:S,error:!!Z.description,helperText:Z.description,multiline:!0,rows:4}),(0,m.jsx)(s.Z,{type:"submit",variant:"contained",color:"primary",children:"Add Album"})]})}}}]);
//# sourceMappingURL=400.4d0e422e.chunk.js.map