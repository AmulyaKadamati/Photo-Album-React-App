{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Shared/Files From c.localized/Amulya/Photo Album React App/Frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Shared/Files From c.localized/Amulya/Photo Album React App/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/Shared/Files From c.localized/Amulya/Photo Album React App/Frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/Shared/Files From c.localized/Amulya/Photo Album React App/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/Shared/Files From c.localized/Amulya/Photo Album React App/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,TextField}from'@mui/material';import{fetchPostDataWithAuth}from'client/Client';import{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddAlbumForm=function AddAlbumForm(){var navigate=useNavigate();useEffect(function(){var isLoggedIn=localStorage.getItem('token');if(!isLoggedIn){navigate('/login');window.location.reload();}},[]);var _useState=useState({name:'',description:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState({name:'',description:''}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},name,value));});};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var isValid,newErrors,payload;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();// Form validation\nisValid=true;newErrors={name:'',description:''};if(!formData.name.trim()){newErrors.name='Name is required';isValid=false;}if(!formData.description.trim()){newErrors.name='Description is Required';isValid=false;}setErrors(newErrors);if(isValid){payload={name:formData.name,description:formData.description};fetchPostDataWithAuth('/albums/add',payload).then(function(response){console.log(response);}).catch(function(error){console.log('login error: ',error);});console.log('Form submitted: ');navigate('/');}case 7:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{label:\"Name\",name:\"name\",variant:\"outlined\",margin:\"normal\",fullWidth:true,value:formData.name,onChange:handleInputChange,error:!!errors.name,helperText:errors.name}),/*#__PURE__*/_jsx(TextField,{label:\"Description\",name:\"description\",variant:\"outlined\",margin:\"normal\",fullWidth:true,value:formData.description,onChange:handleInputChange,error:!!errors.description,helperText:errors.description,multiline:true,rows:4}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",children:\"Add Album\"})]});};export default AddAlbumForm;","map":{"version":3,"names":["Button","TextField","fetchPostDataWithAuth","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","AddAlbumForm","navigate","isLoggedIn","localStorage","getItem","window","location","reload","_useState","name","description","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","errors","setErrors","handleInputChange","e","_e$target","target","value","prevData","_objectSpread","_defineProperty","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","isValid","newErrors","payload","wrap","_callee$","_context","prev","next","preventDefault","trim","then","response","console","log","catch","error","stop","_x","apply","arguments","onSubmit","children","label","variant","margin","fullWidth","onChange","helperText","multiline","rows","type","color"],"sources":["/Users/Shared/Files From c.localized/Amulya/Photo Album React App/Frontend/src/pages/albums/addAlbum.js"],"sourcesContent":["import { Button, TextField } from '@mui/material';\r\nimport { fetchPostDataWithAuth } from 'client/Client';\r\nimport { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst AddAlbumForm = () => {\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const isLoggedIn = localStorage.getItem('token');\r\n    if (!isLoggedIn) {\r\n      navigate('/login');\r\n      window.location.reload();\r\n    }\r\n  }, []);\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: ''\r\n  });\r\n\r\n  const [errors, setErrors] = useState({\r\n    name: '',\r\n    description: ''\r\n  });\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    // Form validation\r\n    let isValid = true;\r\n    const newErrors = { name: '', description: '' };\r\n\r\n    if (!formData.name.trim()) {\r\n      newErrors.name = 'Name is required';\r\n      isValid = false;\r\n    }\r\n    if (!formData.description.trim()) {\r\n      newErrors.name = 'Description is Required';\r\n      isValid = false;\r\n    }\r\n\r\n    setErrors(newErrors);\r\n\r\n    if (isValid) {\r\n      const payload = {\r\n        name: formData.name,\r\n        description: formData.description\r\n      };\r\n      fetchPostDataWithAuth('/albums/add', payload)\r\n        .then((response) => {\r\n          console.log(response);\r\n        })\r\n        .catch((error) => {\r\n          console.log('login error: ', error);\r\n        });\r\n      console.log('Form submitted: ');\r\n      navigate('/');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <TextField\r\n        label=\"Name\"\r\n        name=\"name\"\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        fullWidth\r\n        value={formData.name}\r\n        onChange={handleInputChange}\r\n        error={!!errors.name}\r\n        helperText={errors.name}\r\n      />\r\n\r\n      <TextField\r\n        label=\"Description\"\r\n        name=\"description\"\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        fullWidth\r\n        value={formData.description}\r\n        onChange={handleInputChange}\r\n        error={!!errors.description}\r\n        helperText={errors.description}\r\n        multiline\r\n        rows={4}\r\n      />\r\n\r\n      <Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n        Add Album\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddAlbumForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}